=== VPS'DE Ã‡ALIÅTIRIN (Åu anda buradasÄ±nÄ±z) ===

# 1. Node.js ve npm kurulu mu kontrol edin
node -v
npm -v

# EÄŸer kurulu deÄŸilse:
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt-get install -y nodejs

# 2. Git kurulu mu kontrol edin
git --version

# EÄŸer kurulu deÄŸilse:
apt-get install -y git

# 3. Proje klasÃ¶rÃ¼ var mÄ± kontrol edin
ls -la /root/syncarch-project || ls -la /root/syncarch* || ls -la /var/www/

# EÄŸer proje klasÃ¶rÃ¼ yoksa, yeni bir yerden Ã§ekin:
cd /root
git clone [GITHUB_REPO_URL] syncarch-project
cd syncarch-project

# VEYA eÄŸer proje klasÃ¶rÃ¼ varsa sadece gÃ¼ncelleyin:
cd /root/syncarch-project  # veya projenizin bulunduÄŸu yer
git pull origin main

# 4. .env dosyasÄ±nÄ± kopyalayÄ±n (eÄŸer yoksa)
cp .env.example .env
# veya elle oluÅŸturun:
nano .env
# Ä°Ã§ine Supabase bilgilerini ekleyin

# 5. BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kleyin ve build edin
npm install
npm run build

# 6. Eski dosyalarÄ± temizleyin (zaten yaptÄ±nÄ±z)
# rm -rf /var/www/html/public_html/*

# 7. Yeni dosyalarÄ± kopyalayÄ±n
cp -r dist/* /var/www/html/public_html/

# 8. Ä°zinleri ayarlayÄ±n
chmod -R 755 /var/www/html/public_html
find /var/www/html/public_html -type f -exec chmod 644 {} \;

# 9. Test edin
ls -la /var/www/html/public_html/
curl -I https://syncarch.online

# BaÅŸarÄ±lÄ±! ğŸ‰
